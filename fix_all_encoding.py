#!/usr/bin/env python3
# -*- coding: utf-8 -*-

with open('js/adminview.js', 'rb') as f:
    data = f.read()

# Dictionary of corrupted patterns to fix
# Using hex representation to avoid encoding issues
fixes = {
    # Không có file nào được chọn
    b'\xc3\x89 Kh\xc3\xb4ng c\xc3\xb3 file n\xc3\xa0o \xc4\x91\xc6\xb0\xc3\xa1\xc2\xbb\xc2\xa3c ch\xc3\xa1\xc2\xbb\xc2\xb2n': b'Kh\xc3\xb4ng c\xc3\xb3 file n\xc3\xa0o \xc4\x91\xc6\xb0\xc3\xb1c ch\xc3\xb2n',
    # Vui lòng chọn file CSV
    b'Vui l\xc3\xb2ng ch\xc3\xa1\xc2\xbb\xc2\xb2n file CSV': b'Vui l\xc3\xb2ng ch\xc3\xb2n file CSV',
    # Đang xử lý
    b'\xc4\x90ang x\xc3\xa1\xc2\xbb\xc2\xad l\xc3\xbd': b'\xc4\x90ang x\xc3\xb1 l\xc3\xbd',
    # Đang đọc
    b'\xc4\x90ang \xc4\x91\xc3\xa1\xc2\xbb\xc2\xb2c': b'\xc4\x90ang \xc4\x91\xc3\xb4c',
    # Đang phân tích
    b'\xc4\x90ang ph\xc3\xa2n t\xc3\xa1\xc2\xbb\xc2\xad ch': b'\xc4\x90ang ph\xc3\xa2n t\xc3\xadch',
    # Không tìm thấy
    b'Kh\xc3\xb4ng t\xc3\xacm th\xc3\xa1\xc2\xba\xc2\xa5y': b'Kh\xc3\xb4ng t\xc3\xacm th\xc3\xa1y',
    # Đang xóa
    b'\xc4\x90ang x\xc3\xb3a': b'\xc4\x90ang x\xc3\xb3a',
    # Đang nhập
    b'\xc4\x90ang nh\xc3\xa1\xc2\xba\xc2\xa5p': b'\xc4\x90ang nh\xc3\xa2p',
    # nhà cung cấp
    b'nh\xc3\xa0 cung c\xc3\xa1\xc2\xba\xc2\xa5p': b'nh\xc3\xa0 cung c\xc3\xa1p',
    # Hoàn thành
    b'Ho\xc3\xa0n th\xc3\xa0nh': b'Ho\xc3\xa0n th\xc3\xa0nh',
    # Nhập thành công
    b'Nh\xc3\xa1\xc2\xba\xc2\xa5p th\xc3\xa0nh c\xc3\xb4ng': b'Nh\xc3\xa2p th\xc3\xa0nh c\xc3\xb4ng',
    # Lỗi nhập
    b'L\xc3\xa1\xc2\xbb\xc2\xad\xc2\xb2i nh\xc3\xa1\xc2\xba\xc2\xa5p': b'L\xc3\xb5i nh\xc3\xa2p',
}

for old, new in fixes.items():
    data = data.replace(old, new)

with open('js/adminview.js', 'wb') as f:
    f.write(data)

print('Fixed all encoding issues!')

